<!-- Technical Implementation Considerations -->
<section class="gesture-section">
    <h2>Technical <span class="accent">Implementation</span> Considerations</h2>
    <p class="section-intro">Development patterns and optimization techniques for robust gesture interfaces</p>

    <div class="tech-container animation-fade-in">
        <div class="tech-column">
            <div class="tech-card">
                <h4>Gesture Recognition</h4>
                <div class="implementation-example">
                    <pre><code>// Pseudo-code for gesture recognizer
function detectSwipe(startX, startY, endX, endY, duration) {
  const distanceX = Math.abs(endX - startX);
  const distanceY = Math.abs(endY - startY);
  const velocity = Math.sqrt(distanceX * distanceX + 
                   distanceY * distanceY) / duration;
  
  if (velocity > SWIPE_THRESHOLD && 
      distanceX > MINIMUM_DISTANCE) {
    return (endX > startX) ? 'RIGHT_SWIPE' : 'LEFT_SWIPE';
  }
  
  return 'NOT_A_SWIPE';
}</code></pre>
                </div>
                <div class="tech-notes">
                    <p><strong>Key Points:</strong></p>
                    <ul>
                        <li>Use velocity and distance thresholds to differentiate gestures</li>
                        <li>Add tolerance for slight imprecision in gesture paths</li>
                        <li>Consider directional constraints for specific gestures</li>
                    </ul>
                </div>
            </div>

            <div class="tech-card">
                <h4>State Management</h4>
                <div class="state-diagram">
                    <div class="state-item">
                        <div class="state-circle start">Start</div>
                    </div>
                    <div class="state-arrow"></div>
                    <div class="state-item">
                        <div class="state-circle">Touch Down</div>
                    </div>
                    <div class="state-arrow"></div>
                    <div class="state-item">
                        <div class="state-circle">Processing</div>
                    </div>
                    <div class="state-arrow"></div>
                    <div class="state-item">
                        <div class="state-circle">Recognized</div>
                    </div>
                    <div class="state-arrow"></div>
                    <div class="state-item">
                        <div class="state-circle end">Action</div>
                    </div>
                </div>
                <div class="tech-notes">
                    <p><strong>State Transitions:</strong></p>
                    <ul>
                        <li>Maintain clear gesture states with defined transitions</li>
                        <li>Implement cancellation states for gesture conflicts</li>
                        <li>Handle simultaneous gestures with priority management</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="tech-column">
            <div class="tech-card">
                <h4>Handling Edge Cases</h4>
                <div class="edge-case-grid">
                    <div class="edge-case">
                        <h5>Gesture Conflicts</h5>
                        <p>Establish a clear hierarchy for overlapping gesture recognizers (e.g., scroll vs. swipe)</p>
                    </div>
                    <div class="edge-case">
                        <h5>Timing Issues</h5>
                        <p>Add debouncing and throttling mechanisms to prevent gesture processing overload</p>
                    </div>
                    <div class="edge-case">
                        <h5>Multi-touch</h5>
                        <p>Implement proper touch identifier tracking for simultaneous touches</p>
                    </div>
                    <div class="edge-case">
                        <h5>Error Recovery</h5>
                        <p>Create graceful fallbacks when gestures fail or are interrupted</p>
                    </div>
                </div>
            </div>

            <div class="tech-card">
                <h4>Performance Optimization</h4>
                <ul class="optimization-list">
                    <li>
                        <span class="optimization-icon">‚öôÔ∏è</span>
                        <span class="optimization-text">Use hardware acceleration for gesture-driven animations</span>
                    </li>
                    <li>
                        <span class="optimization-icon">‚è±Ô∏è</span>
                        <span class="optimization-text">Run gesture recognition logic off the main thread when
                            possible</span>
                    </li>
                    <li>
                        <span class="optimization-icon">üîÑ</span>
                        <span class="optimization-text">Implement gesture cancellation to abort processing when
                            needed</span>
                    </li>
                    <li>
                        <span class="optimization-icon">üìä</span>
                        <span class="optimization-text">Apply progressive enhancement based on device
                            capabilities</span>
                    </li>
                    <li>
                        <span class="optimization-icon">üîã</span>
                        <span class="optimization-text">Minimize event listeners and use passive listeners where
                            appropriate</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="implementation-tips animation-fade-in">
        <h3>Implementation Best Practices</h3>
        <div class="tips-container">
            <div class="tip-card">
                <div class="tip-number">01</div>
                <div class="tip-content">
                    <h4>Provide Obvious Visual Cues</h4>
                    <p>Use visual indicators (partially visible UI, animations, or instructional overlays) to hint at
                        available gestures, especially for non-standard interactions.</p>
                </div>
            </div>

            <div class="tip-card">
                <div class="tip-number">02</div>
                <div class="tip-content">
                    <h4>Implement Gesture Recognition Buffers</h4>
                    <p>Allow for small deviations in gesture execution to accommodate normal human variance in touch
                        precision and movement patterns.</p>
                </div>
            </div>

            <div class="tip-card">
                <div class="tip-number">03</div>
                <div class="tip-content">
                    <h4>Optimize Touch Target Spacing</h4>
                    <p>Maintain at least 8px of space between touch targets to prevent accidental activation of adjacent
                        controls, especially on smaller screens.</p>
                </div>
            </div>

            <div class="tip-card">
                <div class="tip-number">04</div>
                <div class="tip-content">
                    <h4>Test in Real Environments</h4>
                    <p>Test gestures while users are in motion, in different lighting conditions, and with one-handed
                        use to ensure robustness in real-world scenarios.</p>
                </div>
            </div>
        </div>
    </div>

    <style>
        .gesture-section {
            padding: 0 20px;
            position: relative;
            overflow: hidden;
        }

        .section-intro {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.2em;
            text-align: center;
            margin-bottom: 30px;
        }

        .accent {
            color: var(--accent-color);
            position: relative;
        }

        .accent::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--accent-color);
            transform: scaleX(0);
            transform-origin: left;
            animation: lineExpand 1.5s ease-out forwards;
            animation-delay: 0.5s;
        }

        @keyframes lineExpand {
            to {
                transform: scaleX(1);
            }
        }

        /* Tech Container Styles */
        .tech-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }

        .tech-column {
            flex: 1;
            min-width: 300px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .tech-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            height: 100%;
        }

        .tech-card h4 {
            margin: 0 0 15px 0;
            color: var(--accent-color);
            font-size: 1.1em;
            text-align: center;
        }

        .implementation-example {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 6px;
            padding: 10px;
            margin-bottom: 15px;
            overflow-x: auto;
        }

        .implementation-example pre {
            margin: 0;
            font-family: monospace;
            font-size: 0.85em;
            line-height: 1.4;
        }

        .implementation-example code {
            color: rgba(255, 255, 255, 0.9);
        }

        .tech-notes p {
            margin: 0 0 10px 0;
            font-size: 0.9em;
        }

        .tech-notes ul {
            margin: 0;
            padding-left: 20px;
        }

        .tech-notes li {
            margin-bottom: 5px;
            font-size: 0.85em;
        }

        /* State Diagram */
        .state-diagram {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 15px;
        }

        .state-item {
            margin-bottom: 5px;
        }

        .state-circle {
            background: rgba(10, 132, 255, 0.2);
            border-radius: 20px;
            padding: 8px 15px;
            font-size: 0.9em;
            text-align: center;
        }

        .state-circle.start {
            background: rgba(48, 209, 88, 0.2);
        }

        .state-circle.end {
            background: rgba(255, 149, 0, 0.2);
        }

        .state-arrow {
            width: 2px;
            height: 15px;
            background: rgba(255, 255, 255, 0.3);
        }

        /* Edge Cases Grid */
        .edge-case-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .edge-case {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            padding: 10px;
        }

        .edge-case h5 {
            margin: 0 0 5px 0;
            font-size: 0.9em;
            color: var(--accent-color);
        }

        .edge-case p {
            margin: 0;
            font-size: 0.8em;
            line-height: 1.4;
        }

        /* Optimization List */
        .optimization-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .optimization-list li {
            display: flex;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .optimization-icon {
            display: inline-block;
            margin-right: 10px;
            font-size: 1.2em;
        }

        .optimization-text {
            font-size: 0.9em;
            line-height: 1.4;
        }

        /* Animation classes */
        .animation-fade-in {
            animation: fadeIn 0.8s ease-out;
            animation-delay: 0.3s;
            opacity: 0;
            animation-fill-mode: forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* Media queries */
        @media (max-width: 768px) {
            .tech-container {
                flex-direction: column;
            }

            .edge-case-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Platform Differences Section */
        .platform-differences {
            margin-bottom: 40px;
        }

        .platform-differences h3,
        .accessibility-concerns h3,
        .gesture-examples h3,
        .implementation-tips h3 {
            text-align: center;
            color: var(--accent-color);
            margin-bottom: 25px;
        }

        .platform-comparison {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
        }

        .platform {
            flex: 1;
            min-width: 270px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
        }

        .platform-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 10px;
        }

        .platform-header svg {
            margin-right: 10px;
        }

        .platform-header h4 {
            margin: 0;
            font-size: 1.2em;
            color: var(--accent-color);
        }

        .platform-gestures {
            margin: 0;
            padding-left: 20px;
        }

        .platform-gestures li {
            margin-bottom: 8px;
            font-size: 0.9em;
        }

        /* Implementation Tips Section */
        .implementation-tips {
            margin-bottom: 40px;
        }

        .tips-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .tip-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            align-items: flex-start;
        }

        .tip-number {
            font-size: 2em;
            font-weight: 700;
            color: var(--accent-color);
            opacity: 0.5;
            margin-right: 15px;
            line-height: 1;
        }

        .tip-content {
            flex: 1;
        }

        .tip-content h4 {
            margin: 0 0 10px 0;
            color: var(--accent-color);
            font-size: 1.1em;
        }

        .tip-content p {
            margin: 0;
            font-size: 0.9em;
            line-height: 1.5;
        }


        /* Animation classes */
        .animation-fade-in {
            animation: fadeIn 0.8s ease-out;
            animation-delay: 0.3s;
            opacity: 0;
            animation-fill-mode: forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* Media queries */
        @media (max-width: 768px) {
            .platform-comparison {
                flex-direction: column;
            }
        }
    </style>
</section>